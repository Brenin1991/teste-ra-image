import{r as b,a as Ae,R as pe}from"./vendor-b1791c80.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const u of t)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function l(t){const u={};return t.integrity&&(u.integrity=t.integrity),t.referrerPolicy&&(u.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?u.credentials="include":t.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function d(t){if(t.ep)return;t.ep=!0;const u=l(t);fetch(t.href,u)}})();var ve={exports:{}},se={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ie=b,Ne=Symbol.for("react.element"),Pe=Symbol.for("react.fragment"),Ue=Object.prototype.hasOwnProperty,Fe=Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ce={key:!0,ref:!0,__self:!0,__source:!0};function xe(a,s,l){var d,t={},u=null,c=null;l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),s.ref!==void 0&&(c=s.ref);for(d in s)Ue.call(s,d)&&!Ce.hasOwnProperty(d)&&(t[d]=s[d]);if(a&&a.defaultProps)for(d in s=a.defaultProps,s)t[d]===void 0&&(t[d]=s[d]);return{$$typeof:Ne,type:a,key:u,ref:c,props:t,_owner:Fe.current}}se.Fragment=Pe;se.jsx=xe;se.jsxs=xe;ve.exports=se;var e=ve.exports,te={},he=Ae;te.createRoot=he.createRoot,te.hydrateRoot=he.hydrateRoot;let Q=null,de=null,ee=null;async function Te(){var a,s;try{const l=((s=(a=import.meta)==null?void 0:a.env)==null?void 0:s.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),t=`${l&&l!=="/"?l.endsWith("/")?l:l+"/":"/"}assets/data/ra.json`,u=await fetch(t);return u.ok?(await u.json()).configuracoes||{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}:(console.warn("N√£o foi poss√≠vel carregar ra.json, usando configura√ß√µes padr√£o"),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0})}catch(l){return console.warn("Erro ao carregar configura√ß√µes do RA, usando padr√£o:",l),{usarAFrame:!0,usarVideo:!0,usarFaceTracking:!0}}}async function ye(){return ee||(ee=(async()=>{try{console.log("Iniciando inicializa√ß√£o global...");const a=await Te();console.log("Configura√ß√µes do RA:",a),a.usarAFrame!==!1?(console.log("Aguardando A-Frame..."),await $e(),console.log("A-Frame pronto"),console.log("Inicializando A-Frame Scene..."),await Be(),console.log("A-Frame Scene inicializado"),je()):console.log("A-Frame desabilitado nas configura√ß√µes"),a.usarVideo!==!1?(console.log(`Inicializando c√¢mera (${a.cameraFacing||"user"})...`),await Le(a),console.log("C√¢mera inicializada")):console.log("V√≠deo desabilitado nas configura√ß√µes"),a.usarFaceTracking!==!1?(console.log("Carregando face-api.js..."),await ze(),console.log("face-api.js carregado")):console.log("Face Tracking desabilitado nas configura√ß√µes"),console.log("Inicializa√ß√£o global conclu√≠da")}catch(a){throw console.error("Erro na inicializa√ß√£o global:",a),a}})(),ee)}function je(){const a=new MutationObserver(()=>{const s=document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]')||document.querySelector('[class*="permission"]');s&&(console.log("Modal detectado, garantindo que seja clic√°vel..."),s.style.pointerEvents="auto",s.style.zIndex="2147483647",s.style.position="fixed",s.style.display="block",s.style.visibility="visible",s.style.opacity="1",s.querySelectorAll("*").forEach(t=>{t.style.pointerEvents="auto"}),s.querySelectorAll("button").forEach(t=>{t.style.pointerEvents="auto",t.style.cursor="pointer",t.style.zIndex="2147483647",t.style.position="relative"}))});a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),setTimeout(()=>{(document.querySelector(".a-orientation-modal")||document.querySelector('[class*="orientation-modal"]')||document.querySelector('[class*="a-orientation"]'))&&(a.disconnect(),je())},1e3)}function $e(){return new Promise(a=>{if(typeof window<"u"&&window.AFRAME){a();return}const s=()=>{typeof window<"u"&&window.AFRAME?a():setTimeout(s,100)};s()})}async function Le(a){try{const s=document.getElementById("arjs-video");if(s&&s.srcObject)return Q=s,de=s.srcObject,de;const l=(a==null?void 0:a.cameraFacing)||"user",d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:l}},audio:!1});if(s)Q=s;else{const t=document.createElement("video");t.id="arjs-video",t.setAttribute("playsinline",""),t.setAttribute("autoplay",""),t.muted=!0,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100vw",t.style.height="100vh",t.style.objectFit="cover",t.style.zIndex="0",t.style.display="none",t.style.visibility="hidden",t.style.opacity="0",document.body.appendChild(t),Q=t}return Q.srcObject=d,de=d,await Q.play(),d}catch(s){return console.warn("Erro ao inicializar c√¢mera global:",s),null}}async function ze(){if(!window.faceapi)return new Promise((a,s)=>{const l=document.createElement("script");l.src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js",l.onload=()=>{console.log("face-api.js carregado"),a()},l.onerror=()=>s(new Error("Failed to load face-api.js")),document.head.appendChild(l)})}async function Be(){if(document.querySelector("a-scene")){console.log("A-Frame Scene j√° existe");return}const a=document.createElement("a-scene");a.id="ar-scene-main",a.setAttribute("embedded","true"),a.setAttribute("vr-mode-ui","enabled: false"),a.setAttribute("device-orientation-permission-ui","enabled: true"),a.setAttribute("renderer","alpha: true; antialias: true; colorManagement: true; physicallyCorrectLights: false; sortObjects: true; logarithmicDepthBuffer: false; precision: mediump;"),a.setAttribute("webxr","enabled: false"),a.setAttribute("background","transparent: true"),a.setAttribute("stats","false"),a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="-100",a.style.background="transparent",document.body.appendChild(a),await new Promise(s=>{const l=()=>{const d=document.querySelector("a-scene");d&&d.hasLoaded?s():setTimeout(l,100)};l()}),console.log("A-Frame Scene criado e inicializado")}const be=({onNavigate:a,onLoadingComplete:s})=>{const[l,d]=b.useState(0),[t,u]=b.useState("Inicializando...");return b.useEffect(()=>((async()=>{const o=["/assets/images/bg-capa.png","/assets/images/header-capa.png","/assets/images/bottom-capa.png","/assets/images/btn-jogar.png","/assets/images/tutorial-panel.png","/assets/images/btn-comecar.png","/assets/images/sprites/nave.png","/assets/images/sprites/estrela.png","/assets/images/sprites/cometa.png","/assets/images/sprites/barra-progresso.png","/assets/images/sprites/contador.png","/assets/images/sprites/feedback-acerto.png","/assets/images/sprites/feedback-erro.png","/assets/images/modal-acerto.png","/assets/images/modal-erro.png","/assets/images/btn-registrar.png","/assets/images/btn-inicio.png","/assets/images/btn-voltar.png","/assets/images/Titulo.png","/assets/images/btJogar.png","/assets/images/btCreditos.png","/assets/images/SKY.jpg","/assets/images/mascara.png","/assets/data/ra.json","/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"],m=(()=>{var f,g;const r=((g=(f=import.meta)==null?void 0:f.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/");return r&&r!=="/"?r.endsWith("/")?r:r+"/":"/"})();try{u("Aguardando inicializa√ß√£o..."),await ye(),u("Carregando recursos...");for(let r=0;r<o.length;r++){const p=o[r],f=`${m}${p.startsWith("/")?p.slice(1):p}`;if(p.endsWith(".json"))try{if(!(await fetch(f)).ok)throw new Error(`Failed to load ${p}`)}catch(n){console.warn(`Failed to load ${p}:`,n)}else await new Promise(n=>{const h=new Image;h.onload=()=>n(h),h.onerror=()=>{console.warn(`Failed to load image: ${f}`),n(null)},h.src=f});const g=Math.round((r+1)/o.length*100);d(g)}u("Finalizando..."),await new Promise(r=>setTimeout(r,300)),d(100),u("Conclu√≠do!"),await new Promise(r=>setTimeout(r,200)),s==null||s(),a("cover","flip","left")}catch(r){console.error("Erro ao carregar recursos:",r),u("Erro ao carregar. Continuando..."),setTimeout(()=>{a("cover","flip","left")},1e3)}})(),()=>{}),[a,s]),e.jsx("div",{className:"loading-screen",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("div",{className:"loading-logo",children:e.jsx("div",{className:"loading-spinner"})}),e.jsx("h2",{className:"loading-title",children:"Carregando"}),e.jsxs("div",{className:"loading-progress-container",children:[e.jsx("div",{className:"loading-progress-bar",children:e.jsx("div",{className:"loading-progress-fill",style:{width:`${l}%`}})}),e.jsxs("p",{className:"loading-percentage",children:[l,"%"]})]}),e.jsx("p",{className:"loading-status",children:t})]})})};const Oe=({onNavigate:a,backgroundImage:s})=>{const d=(()=>{var p,f;const m=((f=(p=import.meta)==null?void 0:p.env)==null?void 0:f.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),r=m&&m!=="/"?m.endsWith("/")?m:m+"/":"/";return r==="/"?"":r.endsWith("/")?r.slice(0,-1):r})(),t=m=>{if(d==="")return m.startsWith("/")?m:`/${m}`;const r=m.startsWith("/")?m.slice(1):m;return`${d}/${r}`},u=s||t("assets/images/bg-capa.png"),c=t("assets/images/header-capa.png"),o=t("assets/images/bottom-capa.png"),i=t("assets/images/btn-jogar.png");return e.jsxs("div",{className:"cover-screen",style:{backgroundImage:`url("${u}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"cover-header-image",children:e.jsx("img",{src:c,alt:"Header",className:"cover-header-img"})}),e.jsx("div",{className:"cover-content",children:e.jsx("button",{className:"cover-button-jogar",onClick:()=>a("tutorial","zoom-out","right"),style:{backgroundImage:`url(${i})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),e.jsx("div",{className:"cover-bottom-image",children:e.jsx("img",{src:o,alt:"Bottom",className:"cover-bottom-img"})})]})};const Me=({onNavigate:a})=>{const l=(()=>{var m,r;const o=((r=(m=import.meta)==null?void 0:m.env)==null?void 0:r.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),d=o=>{if(l==="")return o.startsWith("/")?o:`/${o}`;const i=o.startsWith("/")?o.slice(1):o;return`${l}/${i}`},t=d("assets/images/bg-capa.png"),u=d("assets/images/tutorial-panel.png"),c=d("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:u,alt:"Tutorial Panel",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("rocket","fade","right"),style:{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})},We=({onNavigate:a})=>{const l=(()=>{var m,r;const o=((r=(m=import.meta)==null?void 0:m.env)==null?void 0:r.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),i=o&&o!=="/"?o.endsWith("/")?o:o+"/":"/";return i==="/"?"":i.endsWith("/")?i.slice(0,-1):i})(),d=o=>{if(l==="")return o.startsWith("/")?o:`/${o}`;const i=o.startsWith("/")?o.slice(1):o;return`${l}/${i}`},t=d("assets/images/bg-capa.png"),u=d("assets/images/tutorial-panel-2.png"),c=d("assets/images/btn-comecar.png");return e.jsxs("div",{className:"tutorial-screen",style:{backgroundImage:`url("${t}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"tutorial-panel-container",children:e.jsx("img",{src:u,alt:"Tutorial Panel 2",className:"tutorial-panel-image"})}),e.jsx("div",{className:"tutorial-button-container",children:e.jsx("button",{className:"tutorial-button-comecar",onClick:()=>a("ar","fade","right"),style:{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})};const De=({onNavigate:a,backgroundImage:s})=>{const[l,d]=b.useState(!0),[t,u]=b.useState(1),[c,o]=b.useState({ponta:1,corpo:0,janela:0,asa:0,jato:0}),i={1:"ponta",2:"corpo",3:"janela",4:"asa",5:"jato"},r=(()=>{var A,F;const v=((F=(A=import.meta)==null?void 0:A.env)==null?void 0:F.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),x=v&&v!=="/"?v.endsWith("/")?v:v+"/":"/";return x==="/"?"":x.endsWith("/")?x.slice(0,-1):x})(),p=v=>{if(r==="")return v.startsWith("/")?v:`/${v}`;const x=v.startsWith("/")?v.slice(1):v;return`${r}/${x}`},f=s||p("assets/images/bg-capa.png"),g=p("assets/images/foguete-top.png"),n=p("assets/images/foguete-bottom.png"),h=p("assets/images/foguete-montagem.png"),R=p("assets/images/btn-jogar-foguete.png"),I=p("assets/images/btn-jogar-foguete-disable.png"),N=p("assets/images/btn-next.png"),U=p("assets/images/btn-back.png"),S=(v,x)=>{if(x===0)return null;const A=x.toString().padStart(2,"0");return p(`assets/images/pecas/${v}/${A}.png`)},P=S("ponta",c.ponta),w=S("corpo",c.corpo),j=S("janela",c.janela),y=S("asa",c.asa),k=S("jato",c.jato),L=v=>p(`assets/images/abas/0${v}${t===v?"":"-disable"}.png`),ae=v=>{u(v);const x=i[v];c[x]===0&&x!=="ponta"&&o(F=>({...F,[x]:1}))},ne=()=>{const v=i[t],x=c[v];x===0?o(A=>({...A,[v]:1})):x<3&&o(A=>({...A,[v]:x+1}))},K=()=>{const v=i[t],x=c[v];x>1&&v!=="ponta"&&o(A=>({...A,[v]:x-1}))},M=i[t],z=c[M],q=z<3,B=z>1&&M!=="ponta",H=z>0?S(M,z):null,J=c.ponta>0&&c.corpo>0&&c.janela>0&&c.asa>0&&c.jato>0;return b.useEffect(()=>{(async()=>{const A=(()=>{var W,O;const E=((O=(W=import.meta)==null?void 0:W.env)==null?void 0:O.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),C=E&&E!=="/"?E.endsWith("/")?E:E+"/":"/";return C==="/"?"":C.endsWith("/")?C.slice(0,-1):C})(),F=E=>{if(A==="")return E.startsWith("/")?E:`/${E}`;const C=E.startsWith("/")?E.slice(1):E;return`${A}/${C}`},Y=["/assets/images/foguete-top.png","/assets/images/foguete-bottom.png","/assets/images/foguete-montagem.png","/assets/images/btn-jogar-foguete.png","/assets/images/btn-jogar-foguete-disable.png","/assets/images/btn-next.png","/assets/images/btn-back.png","/assets/images/pecas/ponta/01.png","/assets/images/pecas/ponta/02.png","/assets/images/pecas/ponta/03.png","/assets/images/pecas/corpo/01.png","/assets/images/pecas/corpo/02.png","/assets/images/pecas/corpo/03.png","/assets/images/pecas/janela/01.png","/assets/images/pecas/janela/02.png","/assets/images/pecas/janela/03.png","/assets/images/pecas/asa/01.png","/assets/images/pecas/asa/02.png","/assets/images/pecas/asa/03.png","/assets/images/pecas/jato/01.png","/assets/images/pecas/jato/02.png","/assets/images/pecas/jato/03.png","/assets/images/abas/01.png","/assets/images/abas/02.png","/assets/images/abas/03.png","/assets/images/abas/04.png","/assets/images/abas/05.png","/assets/images/abas/01-disable.png","/assets/images/abas/02-disable.png","/assets/images/abas/03-disable.png","/assets/images/abas/04-disable.png","/assets/images/abas/05-disable.png"];try{const E=Y.map(C=>new Promise(W=>{const O=new Image;O.onload=()=>W(),O.onerror=()=>{console.warn(`Failed to load image: ${C}`),W()},O.src=F(C)}));await Promise.all(E),d(!1)}catch(E){console.error("Erro ao carregar imagens:",E),d(!1)}})()},[]),l?e.jsx("div",{className:"rocket-screen rocket-loading-overlay",children:e.jsxs("div",{className:"rocket-loading-content",children:[e.jsx("div",{className:"rocket-loading-spinner"}),e.jsx("p",{className:"rocket-loading-text",children:"Carregando..."})]})}):e.jsxs("div",{className:"rocket-screen",style:{backgroundImage:`url("${f}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[e.jsx("div",{className:"rocket-top-image",children:e.jsx("img",{src:g,alt:"Foguete Top",className:"rocket-top-img"})}),e.jsx("div",{className:"rocket-tabs-container",children:[1,2,3,4,5].map(v=>e.jsx("button",{className:`rocket-tab ${t===v?"active":""}`,onClick:()=>ae(v),style:{backgroundImage:`url("${L(v)}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},v))}),e.jsxs("div",{className:"rocket-montagem-container",children:[e.jsx("img",{src:h,alt:"Foguete Montagem",className:"rocket-montagem-img"}),P&&e.jsx("img",{src:P,alt:"Ponta",className:"rocket-ponta"}),w&&e.jsx("img",{src:w,alt:"Corpo",className:"rocket-corpo"}),j&&e.jsx("img",{src:j,alt:"Janela",className:"rocket-janela"}),y&&e.jsx("img",{src:y,alt:"Asa",className:"rocket-asa"}),k&&e.jsx("img",{src:k,alt:"Jato",className:"rocket-jato"})]}),e.jsxs("div",{className:"rocket-bottom-image",children:[e.jsx("img",{src:n,alt:"Foguete Bottom",className:"rocket-bottom-img"}),H&&e.jsx("div",{className:"rocket-preview-container",children:e.jsx("img",{src:H,alt:`Preview ${M}`,className:"rocket-preview-image"})}),e.jsxs("div",{className:"rocket-navigation-buttons",children:[e.jsx("button",{className:"rocket-button-back",onClick:K,disabled:!B,style:{backgroundImage:`url("${U}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-jogar",onClick:()=>{try{localStorage.setItem("rocket-pieces",JSON.stringify(c)),console.log("‚úÖ Pe√ßas do foguete salvas:",c)}catch(v){console.error("‚ùå Erro ao salvar pe√ßas do foguete:",v)}a("tutorial2","fade","right")},disabled:!J,style:{backgroundImage:`url("${J?R:I}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"rocket-button-next",onClick:ne,disabled:!q,style:{backgroundImage:`url("${N}")`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})]})]})},qe=({enabled:a})=>{const s=b.useRef(null),l=b.useRef(!1),d=b.useRef({x:0,y:0,z:0}),t=b.useRef({x:0,y:1,z:-1.2}),u=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return b.useEffect(()=>{async function c(){if(l.current)return;const i=window.faceapi,m="https://raw.githubusercontent.com/justadudewhohacks/face-api.js/master/weights";u?await Promise.all([i.nets.tinyFaceDetector.loadFromUri(m),i.nets.faceLandmark68Net.loadFromUri(m)]):await Promise.all([i.nets.tinyFaceDetector.loadFromUri(m),i.nets.faceLandmark68Net.loadFromUri(m),i.nets.faceExpressionNet.loadFromUri(m)]),l.current=!0,console.log("Modelos de face-api carregados")}async function o(){if(!window.faceapi&&(console.warn("face-api.js n√£o carregado ainda, aguardando..."),await new Promise(g=>setTimeout(g,1e3)),!window.faceapi)){console.error("face-api.js ainda n√£o dispon√≠vel");return}await c();const i=document.getElementById("arjs-video");if(!i||!i.srcObject){console.warn("FaceTracker: v√≠deo global n√£o encontrado");return}if(i.readyState<2&&await new Promise(g=>{const n=()=>{i.removeEventListener("loadedmetadata",n),i.removeEventListener("playing",n),g()};i.addEventListener("loadedmetadata",n,{once:!0}),i.addEventListener("playing",n,{once:!0}),i.readyState>=2&&g()}),!i)return;const m=window.faceapi,r=()=>({width:window.innerWidth,height:window.innerHeight}),p=async()=>{try{if(!a)return;if(!i.videoWidth){f();return}if(u&&i.paused){const w=()=>{i.muted=!0,i.play().catch(()=>{}),window.removeEventListener("touchstart",w),window.removeEventListener("click",w)};window.addEventListener("touchstart",w,{passive:!0}),window.addEventListener("click",w)}const g=(getComputedStyle(i).transform||"").includes("matrix(-1")||(i.style.transform||"").includes("scaleX(-1)"),n=new m.TinyFaceDetectorOptions({inputSize:u?160:224,scoreThreshold:u?.35:.5});let h=window.faceapi.detectAllFaces(i,n).withFaceLandmarks();!u&&window.faceapi.nets.faceExpressionNet.isLoaded&&(h=h.withFaceExpressions());const R=await h,I=r(),N=I.width/i.videoWidth,U=I.height/i.videoHeight,S=(w,j=0)=>{const y=w*N;return g?I.width-(y+j):y},P=w=>w*U;R&&R.length?R.forEach(w=>{var k;const j=w.detection.box,y=((k=w.landmarks)==null?void 0:k.positions)||[];if(y.length===68){const L=y[30],ae=[36,37,38,39,40,41],ne=[42,43,44,45,46,47],K=T=>T.reduce(($,X)=>$+X,0)/T.length,M=T=>({x:K(T.map($=>y[$].x)),y:K(T.map($=>y[$].y))}),z=M(ae),q=M(ne),B={x:(z.x+q.x)/2,y:(z.y+q.y)/2},H={x:S(B.x),y:P(B.y)},J=q.x-z.x,v=q.y-z.y;let x=Math.atan2(v,J)*180/Math.PI;const A=Math.hypot(J,v)||1;let F=(L.x-B.x)/A*60,Y=-(L.y-B.y)/A*50;g&&(F=-F,x=-x);const E=(T,$,X)=>Math.max($,Math.min(X,T));F=E(F,-60,60),Y=E(Y,-50,50),x=E(x,-45,45);const C=S(B.x),W=P(B.y)+j.height*U*.1,O=C/I.width,Re=W/I.height;window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:O,y:Re,detected:!0}}));const oe=.25,_=d.current,D={x:_.x+(Y-_.x)*oe,y:_.y+(F-_.y)*oe,z:_.z+(x-_.z)*oe};d.current=D;const re=document.getElementById("camera"),G=document.getElementById("head-cube");if(re&&G){const T=re.getObject3D&&re.getObject3D("camera");if(T&&window.THREE){const $=window.THREE,X=H.x/I.width*2-1,Ee=-(H.y/I.height*2-1),Se=1.2,ie=new $.Vector3,me=new $.Vector3,ge=new $.Vector3(X,Ee,.5);ge.unproject(T),ie.copy(T.position),me.copy(ge).sub(ie).normalize();const ce=ie.clone().add(me.multiplyScalar(Se)),le=.35,V=t.current,Z={x:V.x+(ce.x-V.x)*le,y:V.y+(ce.y-V.y)*le,z:V.z+(ce.z-V.z)*le};t.current=Z,G.setAttribute("position",`${Z.x.toFixed(3)} ${Z.y.toFixed(3)} ${Z.z.toFixed(3)}`),G.setAttribute("rotation",`${D.x.toFixed(2)} ${D.y.toFixed(2)} ${D.z.toFixed(2)}`)}else G.setAttribute&&G.setAttribute("rotation",`${D.x.toFixed(2)} ${D.y.toFixed(2)} ${D.z.toFixed(2)}`)}}}):window.dispatchEvent(new CustomEvent("nave-position",{detail:{x:.5,y:.5,detected:!1}}))}catch(g){console.error("FaceTracker detect error:",g)}f()},f=()=>{u?setTimeout(()=>{s.current=requestAnimationFrame(p)},80):s.current=requestAnimationFrame(p)};s.current=requestAnimationFrame(p)}return a?o().catch(i=>{console.error("FaceTracker start error:",i)}):s.current&&(cancelAnimationFrame(s.current),s.current=null),()=>{s.current&&(cancelAnimationFrame(s.current),s.current=null)}},[a]),null},we=b.forwardRef(({className:a="",onSceneReady:s},l)=>{const d=b.useRef(null),[t,u]=b.useState(!1);return b.useEffect(()=>{const c=()=>{const o=document.querySelector("a-scene#ar-scene-main");o?(d.current=o,u(!0),s&&s(),requestAnimationFrame(()=>{const i=document.querySelector(".a-enter-vr-button");i&&(i.style.display="none",i.style.visibility="hidden")})):setTimeout(c,100)};c()},[s]),b.useImperativeHandle(l,()=>({addEntity:c=>{const o=d.current||document.querySelector("a-scene#ar-scene-main");if(o){const i=document.createElement("a-entity");return Object.keys(c).forEach(m=>{i.setAttribute(m,typeof c[m]=="object"?Object.entries(c[m]).map(([r,p])=>`${r}: ${p}`).join("; "):c[m])}),i.id=`entity-${Date.now()}`,o.appendChild(i),i.id}return""},removeEntity:c=>{const o=document.getElementById(c);o&&o.remove()},getScene:()=>d.current||document.querySelector("a-scene#ar-scene-main"),captureScreenshot:()=>{const c=d.current||document.querySelector("a-scene#ar-scene-main");if(c){const o=c.renderer;if(o&&o.domElement)return o.domElement.toDataURL("image/png")}return""},setCameraFacing:c=>{console.log("Camera facing changed to:",c)}}),[]),e.jsx("div",{className:`ar-scene-aframe ${a}`,style:{width:"100%",height:"100%",position:"relative",zIndex:1},children:t&&document.querySelector("a-scene#ar-scene-main")?e.jsx("div",{style:{width:"100%",height:"100%"}}):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#fff"},children:"Aguardando A-Frame..."})})});we.displayName="ARSceneAFrame";const ke=b.createContext(void 0),_e=()=>{const a=b.useContext(ke);if(a===void 0)throw new Error("useRA deve ser usado dentro de um RAProvider");return a},Ve=({children:a})=>{const[s,l]=b.useState(null),[d,t]=b.useState(!0),[u,c]=b.useState(null),o=async()=>{var r,p;try{t(!0),c(null),console.log("üîÑ Carregando dados do RA...");const f=((p=(r=import.meta)==null?void 0:r.env)==null?void 0:p.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),n=`${f&&f!=="/"?f.endsWith("/")?f:f+"/":"/"}assets/data/ra.json`,h=await fetch(n);if(!h.ok)throw new Error(`Erro ao carregar dados: ${h.status}`);const R=await h.json();console.log("‚úÖ Dados do RA carregados:",R),l(R)}catch(f){const g=f instanceof Error?f.message:"Erro desconhecido";console.error("‚ùå Erro ao carregar dados do RA:",g),c(g)}finally{t(!1)}},i=()=>{o()};b.useEffect(()=>{o()},[]);const m={raData:s,loading:d,error:u,refreshData:i};return e.jsx(ke.Provider,{value:m,children:a})};const He=()=>{const{raData:a}=_e(),s=(a==null?void 0:a.configuracoes)||{},l=s.usarAFrame!==!1,d=s.usarVideo!==!1,t=s.usarFaceTracking!==!1,[u,c]=b.useState(!0),o=b.useRef(null),i=b.useRef(null);return b.useEffect(()=>{if(!d){c(!1);return}async function m(){try{const r=document.getElementById("arjs-video");if(!r||!r.srcObject){console.warn("V√≠deo global n√£o encontrado, aguardando..."),await new Promise(g=>setTimeout(g,1e3));const f=document.getElementById("arjs-video");if(!f||!f.srcObject){console.error("V√≠deo ainda n√£o dispon√≠vel"),c(!1);return}}const p=r||document.getElementById("arjs-video");p&&p.srcObject?(p.classList.add("ar-video-visible"),o.current=p,i.current=p.srcObject,c(!1)):(console.error("V√≠deo n√£o tem stream"),c(!1))}catch(r){console.error("Erro ao configurar c√¢mera:",r),c(!1)}}return m(),()=>{}},[d]),b.useEffect(()=>{if(!l)return;const m=document.querySelector("a-scene#ar-scene-main");if(!m){console.warn("A-Frame Scene n√£o encontrado");return}m.hasAttribute("arjs")||(m.setAttribute("arjs","trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3; cameraParametersUrl: https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@master/data/data/camera_para.dat; maxDetectionRate: 60; canvasWidth: 640; canvasHeight: 480;"),console.log("‚úÖ AR.js configurado no scene"));let r=document.getElementById("camera");r||(r=document.createElement("a-entity"),r.id="camera",r.setAttribute("camera","active: true; fov: 60; near: 0.1; far: 10000"),r.setAttribute("look-controls","enabled: false"),r.setAttribute("wasd-controls","enabled: false"),r.setAttribute("position","0 1.6 0"),m.appendChild(r));let p=m.querySelector("#ambient-light");p||(p=document.createElement("a-entity"),p.id="ambient-light",p.setAttribute("light","type: ambient; color: #888"),m.appendChild(p));let f=m.querySelector("#directional-light");f||(f=document.createElement("a-entity"),f.id="directional-light",f.setAttribute("light","type: directional; color: #fff; intensity: 0.6"),f.setAttribute("position","1 1 1"),m.appendChild(f));let g=document.getElementById("image-marker");if(!g){g=document.createElement("a-marker"),g.id="image-marker",g.setAttribute("type","pattern"),g.setAttribute("url","https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@master/data/data/patt.hiro"),g.setAttribute("smooth","true"),g.setAttribute("smoothCount","10"),g.setAttribute("smoothTolerance","0.01"),g.setAttribute("smoothThreshold","5");const n=document.createElement("a-box");n.setAttribute("position","0 0.5 0"),n.setAttribute("rotation","0 45 45"),n.setAttribute("color","#4CC3D9"),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("depth","1"),n.setAttribute("animation","property: rotation; to: 0 405 45; loop: true; dur: 10000");const h=document.createElement("a-animation");h.setAttribute("attribute","scale"),h.setAttribute("dur","2000"),h.setAttribute("repeat","indefinite"),h.setAttribute("from","1 1 1"),h.setAttribute("to","1.2 1.2 1.2"),h.setAttribute("direction","alternate"),n.appendChild(h),g.appendChild(n),m.appendChild(g),console.log("‚úÖ Image tracking marker adicionado - Mostre o marker Hiro na c√¢mera"),console.log("üìÑ Marker Hiro: https://jeromeetienne.github.io/AR.js/data/images/HIRO.jpg")}return()=>{const n=document.getElementById("camera");n&&n.remove();const h=m.querySelector("#ambient-light");h&&h.remove();const R=m.querySelector("#directional-light");R&&R.remove();const I=document.getElementById("image-marker");I&&I.remove()}},[l]),e.jsxs("div",{className:"ar-game-screen",children:[u&&e.jsx("div",{className:"ar-loading-overlay",children:e.jsxs("div",{className:"ar-loading-content",children:[e.jsx("div",{className:"ar-loading-spinner"}),e.jsx("p",{className:"ar-loading-text",children:"Preparando AR..."})]})}),l&&e.jsx(we,{}),t&&e.jsx(qe,{enabled:!0})]})};const Je=({onNavigate:a})=>{const[s,l]=b.useState(null);b.useEffect(()=>{const r=(p=0)=>{const f=localStorage.getItem("ar-result");console.log(`Tentativa ${p+1}: resultado no localStorage =`,f),console.log("Todos os itens:",{result:localStorage.getItem("ar-result"),score:localStorage.getItem("ar-score"),progress:localStorage.getItem("ar-progress")}),f==="acerto"||f==="erro"?l(f):p<5?setTimeout(()=>r(p+1),100):(console.error("Resultado n√£o encontrado no localStorage ap√≥s m√∫ltiplas tentativas, voltando para cover"),a("cover","zoom-in","left"))};r(0)},[a]);const t=(()=>{var f,g;const r=((g=(f=import.meta)==null?void 0:f.env)==null?void 0:g.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),p=r&&r!=="/"?r.endsWith("/")?r:r+"/":"/";return p==="/"?"":p.endsWith("/")?p.slice(0,-1):p})(),u=r=>{if(t==="")return r.startsWith("/")?r:`/${r}`;const p=r.startsWith("/")?r.slice(1):r;return`${t}/${p}`},c={bgCapa:u("assets/images/bg-capa.png"),modalAcerto:u("assets/images/modal-acerto.png"),modalErro:u("assets/images/modal-erro.png"),btnRegistrar:u("assets/images/btn-registrar.png"),btnInicio:u("assets/images/btn-inicio.png"),btnVoltar:u("assets/images/btn-voltar.png")},o=()=>{a("selfie","fade","up")},i=()=>{a("cover","zoom-in","left")},m=()=>{a("ar","fade","left")};return s?e.jsx("div",{className:"result-screen",style:{backgroundImage:`url("${c.bgCapa}")`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:e.jsxs("div",{className:"result-content",children:[e.jsx("img",{src:s==="acerto"?c.modalAcerto:c.modalErro,alt:s==="acerto"?"Acerto":"Erro",className:"result-modal-image"}),s==="acerto"&&e.jsxs("div",{className:"result-modal-buttons",children:[e.jsx("button",{className:"result-button result-button-registrar",onClick:o,style:{backgroundImage:`url(${c.btnRegistrar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}),e.jsx("button",{className:"result-button result-button-inicio",onClick:i,style:{backgroundImage:`url(${c.btnInicio})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]}),s==="erro"&&e.jsx("div",{className:"result-modal-buttons",children:e.jsx("button",{className:"result-button result-button-voltar",onClick:m,style:{backgroundImage:`url(${c.btnVoltar})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})})]})}):null},ue={quality:"high",enableSound:!0,enableVibration:!0,autoSave:!0,language:"pt-BR"},Ye=({onNavigate:a,onSettingsChange:s})=>{const[l,d]=b.useState(ue),t=(o,i)=>{const m={...l,[o]:i};d(m),s==null||s(m)},u=()=>{a("ar")},c=()=>{d(ue),s==null||s(ue)};return e.jsxs("div",{className:"settings-screen",children:[e.jsxs("div",{className:"settings-header",children:[e.jsx("button",{className:"settings-back-button",onClick:u,children:"‚Üê Voltar"}),e.jsx("h1",{className:"settings-title",children:"Configura√ß√µes"})]}),e.jsxs("div",{className:"settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Qualidade"}),e.jsxs("select",{value:l.quality,onChange:o=>t("quality",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"low",children:"Baixa"}),e.jsx("option",{value:"medium",children:"M√©dia"}),e.jsx("option",{value:"high",children:"Alta"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Som"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.enableSound,onChange:o=>t("enableSound",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar som"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Vibra√ß√£o"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.enableVibration,onChange:o=>t("enableVibration",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Habilitar vibra√ß√£o"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Salvamento"}),e.jsxs("label",{className:"settings-toggle",children:[e.jsx("input",{type:"checkbox",checked:l.autoSave,onChange:o=>t("autoSave",o.target.checked)}),e.jsx("span",{className:"toggle-slider"}),"Salvar automaticamente"]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Idioma"}),e.jsxs("select",{value:l.language,onChange:o=>t("language",o.target.value),className:"settings-select",children:[e.jsx("option",{value:"pt-BR",children:"Portugu√™s"}),e.jsx("option",{value:"en-US",children:"English"}),e.jsx("option",{value:"es-ES",children:"Espa√±ol"})]})]})]}),e.jsxs("div",{className:"settings-footer",children:[e.jsx("button",{className:"settings-button secondary",onClick:c,children:"Restaurar Padr√µes"}),e.jsx("button",{className:"settings-button primary",onClick:u,children:"Salvar"})]})]})},Ge=({onNavigate:a,appName:s="Realidade Aumentada",version:l="1.0.0",description:d="Uma aplica√ß√£o inovadora de realidade aumentada desenvolvida com tecnologias modernas.",developer:t="Desenvolvedor AR"})=>{const u=()=>{a("cover")};return e.jsxs("div",{className:"about-screen",children:[e.jsxs("div",{className:"about-header",children:[e.jsx("button",{className:"about-back-button",onClick:u,children:"‚Üê Voltar"}),e.jsx("h1",{className:"about-title",children:"Sobre"})]}),e.jsxs("div",{className:"about-content",children:[e.jsxs("div",{className:"about-app-info",children:[e.jsx("h2",{className:"app-name",children:s}),e.jsxs("p",{className:"app-version",children:["Vers√£o ",l]}),e.jsx("p",{className:"app-description",children:d})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Desenvolvedor"}),e.jsx("p",{children:t})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Tecnologias"}),e.jsxs("ul",{className:"tech-list",children:[e.jsx("li",{children:"React 18"}),e.jsx("li",{children:"TypeScript"}),e.jsx("li",{children:"A-Frame"}),e.jsx("li",{children:"AR.js"}),e.jsx("li",{children:"Vite"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Funcionalidades"}),e.jsxs("ul",{className:"features-list",children:[e.jsx("li",{children:"Renderiza√ß√£o 3D em tempo real"}),e.jsx("li",{children:"Adi√ß√£o de objetos 3D"}),e.jsx("li",{children:"Captura de screenshots"}),e.jsx("li",{children:"Interface responsiva"}),e.jsx("li",{children:"Suporte a gestos"})]})]}),e.jsxs("div",{className:"about-section",children:[e.jsx("h3",{children:"Licen√ßa"}),e.jsx("p",{children:"MIT License - C√≥digo aberto"})]})]}),e.jsx("div",{className:"about-footer",children:e.jsx("button",{className:"about-button",onClick:u,children:"Voltar ao In√≠cio"})})]})},Xe=({onNavigate:a})=>{const s=()=>{a("cover")};return e.jsx("div",{className:"final-screen",children:e.jsxs("div",{className:"final-content",children:[e.jsxs("div",{className:"final-header",children:[e.jsx("div",{className:"final-icon",children:"üéâ"}),e.jsx("h1",{className:"final-title",children:"Parab√©ns!"}),e.jsx("p",{className:"final-subtitle",children:"Voc√™ completou a experi√™ncia de Realidade Aumentada"})]}),e.jsxs("div",{className:"final-body",children:[e.jsx("div",{className:"final-message",children:e.jsx("p",{children:"Esperamos que voc√™ tenha aproveitado essa jornada interativa!"})}),e.jsx("div",{className:"final-stats",children:e.jsxs("div",{className:"stat-item",children:[e.jsx("div",{className:"stat-value",children:"‚úì"}),e.jsx("div",{className:"stat-label",children:"Experi√™ncia Completa"})]})})]}),e.jsx("div",{className:"final-footer",children:e.jsx("button",{className:"final-button primary",onClick:s,children:"Jogar Novamente"})})]})})};const Qe=()=>{const a=b.useRef(null),s=b.useRef(null),l=b.useRef(null),d=b.useRef(null),[t,u]=b.useState(!1),o=(()=>{var h,R;const g=((R=(h=import.meta)==null?void 0:h.env)==null?void 0:R.BASE_URL)||(document!=null&&document.baseURI?new URL(document.baseURI).pathname:"/"),n=g&&g!=="/"?g.endsWith("/")?g:g+"/":"/";return n==="/"?"":n.endsWith("/")?n.slice(0,-1):n})(),i=g=>{if(o==="")return g.startsWith("/")?g:`/${g}`;const n=g.startsWith("/")?g.slice(1):g;return`${o}/${n}`},m=i("assets/images/selfie-top.png"),r=i("assets/images/selfie-bottom.png"),p=i("assets/images/camera-icon.png");b.useEffect(()=>{async function g(){try{let n=document.getElementById("selfie-video");if(n&&n.srcObject){n.classList.add("selfie-video-visible"),a.current=n;return}const h=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"user"}},audio:!1});n||(n=document.createElement("video"),n.setAttribute("id","selfie-video"),n.setAttribute("playsinline",""),n.setAttribute("autoplay",""),n.muted=!0,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.objectFit="cover",n.style.zIndex="0",n.classList.add("selfie-video-visible"),document.body.appendChild(n)),n.srcObject=h,s.current=h,a.current=n,await n.play()}catch(n){console.error("Erro ao inicializar c√¢mera:",n)}}return g(),()=>{}},[]),b.useEffect(()=>{(()=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{l.current=n},n.onerror=()=>{console.warn("Erro ao carregar imagem top")},n.src=m;const h=new Image;h.crossOrigin="anonymous",h.onload=()=>{d.current=h},h.onerror=()=>{console.warn("Erro ao carregar imagem bottom")},h.src=r})()},[m,r]);const f=async()=>{if(!(!a.current||t)){u(!0);try{const g=a.current,n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight;const h=n.getContext("2d");if(!h){u(!1);return}const R=(g.videoWidth||g.clientWidth)/(g.videoHeight||g.clientHeight),I=n.width/n.height;let N=n.width,U=n.height,S=0,P=0;if(R>I?(U=n.width/R,P=(n.height-U)/2):(N=n.height*R,S=(n.width-N)/2),h.drawImage(g,S,P,N,U),await(()=>new Promise(j=>{if(l.current&&d.current)j();else{const y=setInterval(()=>{l.current&&d.current&&(clearInterval(y),j())},50);setTimeout(()=>{clearInterval(y),j()},2e3)}}))(),l.current){const j=l.current,y=j.naturalWidth/j.naturalHeight,k=n.width/y;h.drawImage(j,0,0,n.width,k)}if(d.current){const j=d.current,y=j.naturalWidth/j.naturalHeight,k=n.width/y;h.drawImage(j,0,n.height-k,n.width,k)}n.toBlob(async j=>{if(j)try{if(navigator.share&&navigator.canShare){const y=new File([j],`selfie-${Date.now()}.png`,{type:"image/png"});if(navigator.canShare({files:[y]}))await navigator.share({files:[y],title:"Minha Selfie",text:"Confira minha selfie!"});else{const k=URL.createObjectURL(j);await navigator.share({title:"Minha Selfie",text:"Confira minha selfie!",url:k}),URL.revokeObjectURL(k)}}else{const y=URL.createObjectURL(j),k=document.createElement("a");k.href=y,k.download=`selfie-${Date.now()}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(y)}}catch(y){if(y instanceof Error&&y.name!=="AbortError"){console.error("Erro ao compartilhar:",y);const k=URL.createObjectURL(j),L=document.createElement("a");L.href=k,L.download=`selfie-${Date.now()}.png`,document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(k)}}u(!1)},"image/png")}catch(g){console.error("Erro ao capturar foto:",g),u(!1)}}};return e.jsxs("div",{className:"selfie-screen",children:[e.jsx("div",{className:"selfie-top-overlay",children:e.jsx("img",{src:m,alt:"Top",className:"selfie-top-img"})}),e.jsx("div",{className:"selfie-bottom-overlay",children:e.jsx("img",{src:r,alt:"Bottom",className:"selfie-bottom-img"})}),e.jsx("button",{className:"selfie-camera-button",onClick:f,disabled:t,style:{backgroundImage:`url(${p})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})]})};const Ke=({initialScreen:a="loading",appConfig:s,defaultTransition:l="zoom-out",defaultDirection:d="right"})=>{const[t,u]=b.useState(a||"loading"),[c,o]=b.useState(!1),[i,m]=b.useState(l),[r,p]=b.useState(d),[f,g]=b.useState(null);b.useEffect(()=>{console.log("üé¨ ScreenManager inicializado com tela:",t)},[]),b.useEffect(()=>{if(!c){const N=setTimeout(()=>{t!=="loading"&&g(null)},1e3);return()=>clearTimeout(N)}},[t,c]);const n=(N,U)=>{const S=["loading","cover","tutorial","rocket","tutorial2","ar","resultado","final","settings","about","selfie"],P=S.indexOf(N),w=S.indexOf(U);return w>P?"right":w<P?"left":"right"},h=(N,U,S)=>{const P=U||i,w=S||n(t,N);g(t),m(P),p(w);const j=t==="loading"?800:300;o(!0),setTimeout(()=>{u(N),o(!1)},j)},R=()=>{switch(t){case"loading":return e.jsx(be,{onNavigate:h});case"cover":return e.jsx(Oe,{onNavigate:h,title:s.title,subtitle:s.subtitle});case"tutorial":return e.jsx(Me,{onNavigate:h});case"rocket":return e.jsx(De,{onNavigate:h});case"tutorial2":return e.jsx(We,{onNavigate:h});case"ar":return e.jsx(He,{onNavigate:h});case"resultado":return e.jsx(Je,{onNavigate:h});case"final":return e.jsx(Xe,{onNavigate:h});case"settings":return e.jsx(Ye,{onNavigate:h});case"about":return e.jsx(Ge,{onNavigate:h});case"selfie":return e.jsx(Qe,{onNavigate:h});default:return e.jsx(be,{onNavigate:h})}},I=()=>{const N="screen-manager",U=`transition-${i}`,S=`direction-${r}`,P=c?"transitioning":"",w=f?`from-${f}`:"";return`${N} ${U} ${S} ${P} ${w}`.trim()};return e.jsx("div",{className:I(),children:R()})},Ze=()=>{const[a,s]=b.useState(!1),l=()=>{const d=window.innerWidth,t=window.innerHeight,u=d>t,c=navigator.userAgent.toLowerCase(),o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(c)||"ontouchstart"in window||navigator.maxTouchPoints>0,i=d<=768;o&&u||i&&u?(s(!0),document.body.style.overflow="hidden",document.body.style.touchAction="none"):(s(!1),document.body.style.overflow="",document.body.style.touchAction="")};return b.useEffect(()=>{l();let d,t;const u=()=>{clearTimeout(d),d=setTimeout(()=>{l()},100)},c=()=>{clearTimeout(t),t=setTimeout(()=>{l()},300)},o=()=>{clearTimeout(t),t=setTimeout(()=>{l()},300)},i=p=>{clearTimeout(t),t=setTimeout(()=>{l()},100)};window.addEventListener("resize",u),window.addEventListener("orientationchange",c),window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",o);const m=window.matchMedia("(orientation: landscape)");m.addEventListener("change",i);const r=setInterval(()=>{l()},2e3);return()=>{clearTimeout(d),clearTimeout(t),clearInterval(r),window.removeEventListener("resize",u),window.removeEventListener("orientationchange",c),window.screen&&window.screen.orientation&&window.screen.orientation.removeEventListener("change",o),m.removeEventListener("change",i),document.body.style.overflow="",document.body.style.touchAction=""}},[]),a?e.jsxs("div",{className:"landscape-blocker",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999999999,color:"white",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px",boxSizing:"border-box",pointerEvents:"auto"},children:[e.jsx("div",{style:{width:"80px",height:"80px",marginBottom:"20px",fontSize:"60px",animation:"rotate 2s ease-in-out infinite"},children:"üì±"}),e.jsx("h2",{style:{margin:"0 0 10px 0",fontSize:"24px"},children:"Gire seu dispositivo"}),e.jsx("p",{style:{margin:"0",fontSize:"16px",opacity:.9},children:"Para uma melhor experi√™ncia de Realidade Aumentada, mantenha seu dispositivo na orienta√ß√£o retrato (vertical)."}),e.jsx("style",{children:`
          @keyframes rotate {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(90deg); }
          }
        `})]}):null};function fe(){const a={title:"Realidade Aumentada",subtitle:"Explore o mundo em 3D",version:"1.0.0",developer:"AR Developer"};return e.jsx(Ve,{children:e.jsxs("div",{className:"ar-app",children:[e.jsx(Ze,{}),e.jsx(Ke,{initialScreen:"loading",appConfig:a})]})})}ye().then(()=>{console.log("Inicializa√ß√£o global completa, iniciando React..."),te.createRoot(document.getElementById("root")).render(e.jsx(pe.StrictMode,{children:e.jsx(fe,{})}))}).catch(a=>{console.error("Erro na inicializa√ß√£o global:",a),te.createRoot(document.getElementById("root")).render(e.jsx(pe.StrictMode,{children:e.jsx(fe,{})}))});
//# sourceMappingURL=index-298c0c88.js.map
